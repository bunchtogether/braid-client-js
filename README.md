# Braid Client

[![CircleCI](https://circleci.com/gh/bunchtogether/braid-client-js.svg?style=svg)](https://circleci.com/gh/bunchtogether/braid-client-js) [![npm version](https://badge.fury.io/js/%40bunchtogether%2Fbraid-client.svg)](http://badge.fury.io/js/%40bunchtogether%2Fbraid-client) [![codecov](https://codecov.io/gh/bunchtogether/braid-client-js/branch/master/graph/badge.svg)](https://codecov.io/gh/bunchtogether/braid-client-js)

WebSocket-based key-value synchronization.

See also:

-   [Server](https://github.com/bunchtogether/braid-server)
-   [MessagePack Definitions](https://github.com/bunchtogether/braid-messagepack)

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [CredentialsError](#credentialserror)
    -   [Parameters](#parameters)
-   [SubscribeError](#subscribeerror)
    -   [Parameters](#parameters-1)
-   [EventSubscribeError](#eventsubscribeerror)
    -   [Parameters](#parameters-2)
-   [Client](#client)
    -   [open](#open)
        -   [Parameters](#parameters-3)
    -   [close](#close)
        -   [Parameters](#parameters-4)
    -   [sendCredentials](#sendcredentials)
        -   [Parameters](#parameters-5)
    -   [subscribe](#subscribe)
        -   [Parameters](#parameters-6)
    -   [unsubscribe](#unsubscribe)
        -   [Parameters](#parameters-7)
    -   [addSubscriptionHandler](#addsubscriptionhandler)
        -   [Parameters](#parameters-8)
    -   [addServerEventListener](#addservereventlistener)
        -   [Parameters](#parameters-9)
    -   [removeServerEventListener](#removeservereventlistener)
        -   [Parameters](#parameters-10)

### CredentialsError

**Extends Error**

Class representing a credentials error

#### Parameters

-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `code` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### SubscribeError

**Extends Error**

Class representing a subscribe error

#### Parameters

-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `code` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### EventSubscribeError

**Extends Error**

Class representing an event subscribe error

#### Parameters

-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `code` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### Client

**Extends EventEmitter**

Class representing a Braid Server

#### open

Connects to a server.

##### Parameters

-   `address` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Websocket URL of the server
-   `credentials` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Credentials to send (optional, default `{}`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### close

Close connection to server.

##### Parameters

-   `code` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Websocket close reason code to send to the server
-   `reason` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Websocket close reason to send to the server

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### sendCredentials

Send credentials to a server with an open connection.

##### Parameters

-   `credentials` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Credentials to send

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### subscribe

Subscribe to updates on a key.

##### Parameters

-   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Key to request updates on
-   `callback` **function (any, any): void** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### unsubscribe

Unsubscribe from updates on a key. If the callback parameter is not provided, all callbacks are unsubscribed.

##### Parameters

-   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Key to stop updates on
-   `callback` **function (any, any): void** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### addSubscriptionHandler

Add a subscription handler to a key

##### Parameters

-   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Key to add handlers to
-   `callback` **function (any, any): void** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### addServerEventListener

Subscribe to a server event

##### Parameters

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the event to listen for
-   `callback` **function (): void** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

#### removeServerEventListener

Unsubscribe from a server event. If the callback parameter is not provided, all callbacks are unsubscribed.

##### Parameters

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the event to stop listening
-   `callback` **function (any): void** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 
